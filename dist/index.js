!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var s=t();for(var o in s)("object"==typeof exports?exports:e)[o]=s[o]}}(this,(function(){return function(){"use strict";var e={};return{607:function(e,t){var s,o,n,i,r=this&&this.__classPrivateFieldGet||function(e,t,s,o){if("a"===s&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?o:"a"===s?o.call(e):o?o.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.amitt=void 0;class f{constructor(){s.add(this),o.set(this,new Map),n.set(this,new Map)}once(e,t){return r(this,s,"m",i).call(this,r(this,o,"f"),e,t)}on(e,t){return r(this,s,"m",i).call(this,r(this,n,"f"),e,t)}off(e,t){for(const s of[r(this,n,"f"),r(this,o,"f")]){const o=s.get(e);if(o){if(t){const n=o.delete(t);return 0===o.size?s.delete(e):s.set(e,o),n}return s.delete(e)}}return!1}emit(e,...t){const s=[];for(const i of[r(this,n,"f"),r(this,o,"f")]){const n=i===r(this,o,"f"),f=new Map;if(e instanceof RegExp)for(const t of i.keys())e.test(t)&&f.set(t,i.get(t));else f.set(e,i.get(e));for(const e of f.keys()){const o=f.get(e);if(o&&o.size){for(const e of o)s.push(e(...t)),n&&o.delete(e);n&&(o.size?i.set(e,o):i.delete(e))}}}return s}}o=new WeakMap,n=new WeakMap,s=new WeakSet,i=function(e,t,s){const o=e.get(t)||new Set,n=o.size;return o.add(s),e.set(t,o),n!==o.size},t.amitt=()=>new f,t.default=t.amitt}}[607](0,e),e}()}));